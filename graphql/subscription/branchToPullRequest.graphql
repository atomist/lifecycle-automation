subscription BranchToPullRequestLifecycle {
  Branch {
    _id
    pullRequests(first: 1) {
      number
      name
      body
      state
      merged
      timestamp
      title
      baseBranchName
      branchName
      createdAt
      mergedAt
      head {
        sha
      }
      lastAssignedBy {
        login
        name
        person {
          gitHubId {
            login
          }
          chatId {
            screenName
            id
          }
        }
      }
      closedAt
      branch {
        name
        timestamp
      }
      author {
        login
        name
        person {
          gitHubId {
            login
          }
          chatId {
            screenName
            id
          }
        }
      }
      merger {
        login
        name
        person {
          gitHubId {
            login
          }
          chatId {
            screenName
            id
          }
        }
      }
      assignees {
        login
        name
        person {
          gitHubId {
            login
          }
          chatId {
            screenName
            id
          }
        }
      }
      reviewers {
        login
        name
        person {
          gitHubId {
            login
          }
          chatId {
            screenName
            id
          }
        }
      }
      labels {
        name
      }
      comments {
        body
      }
      commits(first: 10, orderBy: [timestamp_desc]) {
        sha
        timestamp
        message
        tags {
          name
          release {
            name
            timestamp
          }
        }
        statuses {
          state
          description
          context
          targetUrl
        }
        author {
          login
          name
          person {
            gitHubId {
              login
            }
            chatId {
              screenName
              id
            }
          }
        }
        builds(trigger: push, orderBy: [timestamp_desc]) {
          name
          buildUrl
          buildId
          status
        }
      }
      builds(trigger: pull_request, orderBy: [timestamp_desc]) {
        name
        buildUrl
        buildId
        status
      }
      reviews {
        state
        by {
          login
        }
      }
      repo {
        name
        owner
        channels {
          name
          team {
            id
          }
        }
        allowRebaseMerge
        allowSquashMerge
        allowMergeCommit
        defaultBranch
        org {
          provider {
            url
            apiUrl
            gitUrl
          }
          team {
            id
            chatTeams {
              id
              preferences {
                name
                value
              }
            }
          }
        }
      }
    }
  }
}
